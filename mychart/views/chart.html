<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title><%= title%></title>
</head>
<body>
	<div id="main" style="height:700px;"></div>
<script src="/javascripts/source/echarts.js"></script>
<script src="/javascripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
	require.config({
        paths: {
            echarts: '/javascripts/source'
        }
    });
    require(
    	[
    		'echarts',
    		'echarts/chart/line'
    	],
    	function (ec){
    		var myChart = ec.init(document.getElementById('main'),'infographic');
    		var option = {
			    title: {
			        text: '堆叠区域图'
			    },
			    tooltip : {
			        trigger: 'axis',
			        showDelay : 0,
			        transitionDuration : 0 ,
			        axisPointer: {
			            type: 'cross',
			            label: {
			                backgroundColor: '#6a7985'
			            }
			        },
			        position:function(p){
			            var id = document.getElementById('main');
			            if ($(id).width() - p[0]- $(id).find("div .echarts-tooltip").width()-20 <0) {
			                p[0] = p[0] - $(id).find("div .echarts-tooltip").width() -40;
			            }
			            return [p[0], p[1]];
			        },
			        formatter: "{a} <br/>{b} : {c} ({d}%)"
			    },
			    legend: {
			        data:['邮件营销']
			    },
			    toolbox: {
			        feature: {
			            saveAsImage: {}
			        }
			    },
			    grid: {
			        left: '3%',
			        right: '4%',
			        bottom: '3%',
			        borderWidth:2,
			        borderColor:'#f00',
			        containLabel: true
			    },
			    xAxis : [
			        {
			            type : 'category',
			            boundaryGap : false,
			            data : ['1','2','3','4','5','6','7','8','9']
			        }
			    ],
			    yAxis : [
			        {
			            type : 'value'
			        }
			    ],
			    series : [
			        {
			            name:'邮件营销',
			            type:'line',
			            stack: '总量',
			            smooth:true,
			            areaStyle: {normal: {}},
			            data:[120, 132, 90, 101, 134, 80, 90, 130, 180],
			            lineStyle: {
						    normal: {
						     type: 'solid',
						     /*color:"#28a5fc",*/
						     color:"red",
						      opacity :"0.5"
						    }
						 }
			        }
			    ]
			};
    		myChart.setOption(option);
    	}
	);
</script>
</body>
</html>